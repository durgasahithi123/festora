<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Indian Regional Foods Interactive Guide</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #fff8f0;
    margin: 0; padding: 0;
    color: #333;
  }
  header {
    background: #ef6f35;
    color: white;
    padding: 1rem;
    text-align: center;
  }
  main {
    max-width: 1200px;
    margin: 1rem auto;
    padding: 0 1rem;
  }
  .filters {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1rem;
    align-items: center;
  }
  .filters label {
    font-weight: bold;
  }
  .filters select, .filters input[type="text"] {
    padding: 0.4rem;
    font-size: 1rem;
  }
  .cards {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 1rem;
  }
  .card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgb(239 111 53 / 0.3);
    padding: 1rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .card h3 {
    margin: 0 0 0.5rem 0;
    color: #d35400;
  }
  .card p {
    flex-grow: 1;
    font-size: 0.9rem;
  }
  .card .region {
    font-size: 0.85rem;
    color: #777;
    margin-top: 1rem;
    font-style: italic;
  }
  .rating {
    margin-top: 0.5rem;
    display: flex;
    gap: 4px;
  }
  .star {
    font-size: 1.2rem;
    color: #ccc;
    cursor: pointer;
    user-select: none;
  }
  .star.selected {
    color: #ff9000;
  }
  /* Modal styles */
  .modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    z-index: 10;
  }
  .modal.active {
    display: flex;
  }
  .modal-content {
    background: white;
    max-width: 600px;
    border-radius: 10px;
    padding: 1.5rem 2rem;
    position: relative;
    max-height: 85vh;
    overflow-y: auto;
    box-sizing: border-box;
  }
  .modal-content h2 {
    margin-top: 0;
    color: #d35400;
  }
  .modal-close {
    position: absolute;
    top: 0.6rem;
    right: 1rem;
    font-size: 1.8rem;
    font-weight: bold;
    color: #999;
    cursor: pointer;
  }
  .ingredients {
    margin-top: 1rem;
    padding-left: 1.2rem;
  }
  .ingredients strong {
    font-weight: bold;
  }
  .food-image {
    width: 100%;
    max-height: 400px;
    object-fit: cover;
    border-radius: 6px;
    margin-bottom: 1rem;
  }
  /* Responsive */
  @media(max-width: 600px) {
    .filters {
      flex-direction: column;
      align-items: flex-start;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Indian Regional Foods </h1>
</header>

<main>
  <section class="filters" aria-label="Filter and search foods">
    <label for="regionFilter">Filter by Region:</label>
    <select id="regionFilter" aria-controls="foodList">
      <option value="all" selected>All Regions</option>
      <option value="Andhra Pradesh">Andhra Pradesh</option>
      <option value="Assam">Assam</option>
      <option value="Bihar">Bihar</option>
      <option value="Goa">Goa</option>
      <option value="Gujarat">Gujarat</option>
      <option value="Karnataka">Karnataka</option>
      <option value="Kerala">Kerala</option>
      <option value="Maharashtra">Maharashtra</option>
      <option value="Punjab">Punjab</option>
      <option value="Tamil Nadu">Tamil Nadu</option>
      <option value="West Bengal">West Bengal</option>
    </select>
    <label for="searchInput">Search Food:</label>
    <input type="text" id="searchInput" placeholder="Type to search..." aria-controls="foodList" />
  </section>

  <section id="foodList" class="cards" aria-live="polite">
    <!-- Food cards injected here -->
  </section>
</main>

<!-- Modal with image -->
<div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
  <div class="modal-content">
    <button class="modal-close" aria-label="Close modal" id="modalCloseBtn">&times;</button>
    <h2 id="modalTitle"></h2>
    <img id="modalImage" src="" alt="" class="food-image" />
    <p id="modalDesc"></p>
    <div>
      <h3>Ingredients:</h3>
      <ul id="modalIngredients" class="ingredients"></ul>
    </div>
    <h3>Rating:</h3>
    <div id="modalRating" class="rating" aria-label="Rating stars" role="img"></div>
  </div>
</div>

<script>
  // Food data with description, ingredients, and image urls (placeholder images used, replace if desired)
  const foods = [
    // Andhra Pradesh
    {region: "Andhra Pradesh", state:"", name:"Idli, Dosa", desc:"Steamed rice cakes and fermented crepes made from rice and urad dal.", ingredients:["Rice", "Urad dal (split black gram)", "Fenugreek seeds", "Salt"], image:"https://spicyindiankitchen.com/wp-content/uploads/2018/08/Quinoa_Idli_main-1-500x500.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Pootharekulu, Bobbatlu (sweet)", desc:"Traditional sweets made with rice flour, jaggery, ghee, and cardamom.", ingredients:["Rice flour", "Jaggery", "Ghee", "Cardamom"], image:"https://thvnext.bing.com/th/id/OIG4.HcbBVTRC9WeKiDvB7_DU?w=270&h=270&c=6&r=0&o=5&cb=ucfimg2&dpr=1.3&pid=ImgGn&ucfimg=1"},
    {region: "Andhra Pradesh", state:"", name:"Gongura Pulusu", desc:"A tangy and spicy tamarind stew made with Gongura leaves.", ingredients:["Gongura leaves", "Tamarind", "Mustard seeds", "Garlic", "Red chilies"], image:"https://vismaifood.com/storage/app/uploads/public/0a8/b26/360/thumb__700_0_0_0_auto.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Royyala Vepudu", desc:"Spicy prawn fry with mustard seeds and curry leaves.", ingredients:["Prawns", "Turmeric", "Chili powder", "Curry leaves", "Mustard seeds"], image:"https://2.bp.blogspot.com/-_Jnb0La9U7o/Up-F3DXF-4I/AAAAAAAAAcY/sbBj4GrB8hQ/s1600/DSC_3688+-+Version+2.JPG"},
    {region: "Andhra Pradesh", state:"", name:"Hyderabadi Biryani", desc:"Fragrant basmati rice cooked with meat, saffron, and spices.", ingredients:["Basmati rice", "Goat or chicken meat", "Yogurt", "Saffron", "Mint", "Garam masala", "Fried onions"], image:"https://4.bp.blogspot.com/-VAz98JXZW6A/Ww6SuhI9uII/AAAAAAAAAho/9phhquy1fYQ5JegCkbR49l9lqpPgElY9wCK4BGAYYCw/s1600/Hyderabadi+biryan.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Pulihora (Tamarind rice)", desc:"Rice seasoned with tamarind paste, mustard seeds, peanuts, and curry leaves.", ingredients:["Tamarind paste", "Mustard seeds", "Peanuts", "Curry leaves", "Green chilies"], image:"https://vismaifood.com/storage/app/uploads/public/be1/3f7/bc1/thumb__1200_0_0_0_auto.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Mirchi Bajji", desc:"Large green chilies stuffed, coated with gram flour and deep-fried.", ingredients:["Large green chilies", "Gram flour", "Rice flour", "Spices"], image:"https://i.pinimg.com/originals/29/aa/98/29aa98e2f7ce65e03fe27823c0ba2489.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Buttermilk", desc:"Refreshing spiced yogurt drink.", ingredients:["Yogurt", "Water", "Salt", "Cumin seeds"], image:"https://cdn.cdnparenting.com/articles/2020/02/28111427/Masala-Buttermilk-Recipe.jpg"},
    {region: "Andhra Pradesh", state:"", name:"Pesarattu with Upma", desc:"Green gram dosa served with a semolina upma side.", ingredients:["Green gram (moong dal)", "Ginger", "Green chilies", "Rice", "Mustard seeds"], image:"https://th.bing.com/th/id/R.1d376ead1eb736471e033182530e5534?rik=0DWlki33t%2bp4RA&riu=http%3a%2f%2f4.bp.blogspot.com%2f-u5oyqmqoBU0%2fTfRo_1JG8uI%2fAAAAAAAAGvg%2fO5bMgsAHDuw%2fs1600%2fPesarattu%2bUpma.jpg&ehk=NQmTNg5neRtP5RNutrAiRHiFVqyqaoIixjCevMZrsZU%3d&risl=&pid=ImgRaw&r=0"},

    // Assam
    {region: "Assam", state:"", name:"Pitha", desc:"Traditional rice flour cakes, often with coconut and jaggery.", ingredients:["Rice flour", "Coconut", "Jaggery"], image:"https://foodiestreasure.com/wp-content/uploads/2020/01/dsc_0029.jpg?w=1024&h=683"},
    {region: "Assam", state:"", name:"Khaar", desc:"Alkaline vegetable curry with raw papaya and green chili.", ingredients:["Khar (alkaline substance)", "Raw papaya", "Mustard oil", "Green chili"], image:"https://i.ytimg.com/vi/N9wK0KrOezE/hqdefault.jpg"},
    {region: "Assam", state:"", name:"Masor Tenga (fish curry)", desc:"Tangy fish curry with tomatoes and mustard seeds.", ingredients:["Fresh fish", "Mustard seeds", "Tomatoes", "Lemon juice", "Green chili"], image:"https://4.bp.blogspot.com/-3thKNKwfzEw/WwAQi8UiLTI/AAAAAAAAg4I/KcTH7I7r5dYhO5NWdVO73AByPCEMJXaOACLcBGAs/s1600/Chepa%2BPulusu%2B13.JPG"},
    {region: "Assam", state:"", name:"Narikolor Ladoo", desc:"Sweet coconut-jaggery balls.", ingredients:["Coconut", "Jaggery"], image:"https://static.wixstatic.com/media/2741ca_1c3226692e7f4c28af42d04a590b730b~mv2.jpg/v1/crop/x_0,y_40,w_650,h_344/fill/w_669,h_354,al_c,lg_1,q_80,enc_auto/coconut-ladoo.jpg"},
    {region: "Assam", state:"", name:"Duck Curry (Hanhor Mangkho)", desc:"Spicy duck curry with mustard oil and black pepper.", ingredients:["Duck meat", "Mustard oil", "Black pepper", "Turmeric", "Onion"], image:"https://www.clubmahindra.com/blog/images/Duck-Meat-Curry-resized.jpg"},
    {region: "Assam", state:"", name:"Xaj (rice beer)", desc:"Traditional fermented rice beer.", ingredients:["Cooked rice", "Yeast", "Sugar"], image:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEixOWk7Yz6I7pZGSrgwU87RagO0BSDfBoOxFMi65yK_ruh3-OojYXVLSeumrLskR8LVhUfNiMi2fzy9YbfWIZzzcuR8q1rHIsVoY_uyIOJqDLLcE6esJvij3ePCCyhNTJPcbOHjff9L/s1600/IMG_5821%255B1%255D.JPG"},

    // Bihar
    {region: "Bihar", state:"", name:"Litti", desc:"Wheat flour dough balls stuffed with spiced roasted gram flour.", ingredients:["Wheat flour", "Sattu (roasted gram flour)", "Carom seeds", "Mustard oil"], image:"https://static.toiimg.com/thumb/53188495.cms?width=1200&height=900"},
    {region: "Bihar", state:"", name:"Chura (flattened rice)", desc:"Flattened rice served with milk.", ingredients:["Flattened rice", "Milk"], image:"https://i.ytimg.com/vi/EnTQbQ78hDQ/maxresdefault.jpg"},
    {region: "Bihar", state:"", name:"Khaja (sweet)", desc:"Layered fried and sugar syrup soaked pastry.", ingredients:["Refined wheat flour", "Sugar syrup", "Ghee"], image:"https://images.slurrp.com/prodarticles/rpq1is8uui.webp?impolicy=slurrp-20210601&width=1200&height=900&q=75"},
    {region: "Bihar", state:"", name:"Sattu Sharbat", desc:"Refreshment drink made with roasted gram flour and lemon.", ingredients:["Roasted gram flour", "Water", "Lemon", "Salt", "Mint"], image:"https://tse1.mm.bing.net/th/id/OIP.2-14TrbuoUxz8aYjoHEV2wHaE8?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"},

    // Goa
    {region: "Goa", state:"", name:"Sannas, Poee", desc:"Steamed rice cakes and bread made from rice flour and yeast.", ingredients:["Rice flour", "Coconut", "Yeast", "Sugar"], image:"https://thvnext.bing.com/th/id/OIG3.ScMAMsAq1bu8i1R6aej5?w=270&h=270&c=6&r=0&o=5&cb=ucfimg2&dpr=1.3&pid=ImgGn&ucfimg=1"},
    {region: "Goa", state:"", name:"Bebinca (sweet)", desc:"Layered coconut milk and egg yolk dessert.", ingredients:["Coconut milk", "Sugar", "Egg yolks", "Ghee"], image:"https://im.whatshot.in/img/2019/Nov/shutterstock-1387614785-cropped-1572593123.jpg"},
    {region: "Goa", state:"", name:"Goan Fish Curry", desc:"Spicy fish curry cooked in coconut milk and tamarind.", ingredients:["Fish", "Coconut milk", "Tamarind", "Red chili", "Mustard seeds"], image:"https://3.bp.blogspot.com/-KsRGzI4i1mg/VV_lcJxLJMI/AAAAAAAABFk/LUG-83opyd0/s1600/GFC1.jpg"},
    {region: "Goa", state:"", name:"Goan Biryani", desc:"Fragrant rice cooked with meat and vinegar with fried onions.", ingredients:["Basmati rice", "Pork or chicken", "Vinegar", "Garam masala", "Fried onions"], image:"https://myindianstove.com/wp-content/uploads/2020/09/118-GOAN-BIRYANI-11-HZ.jpeg"},
    {region: "Goa", state:"", name:"Feni (drink)", desc:"Local spirit distilled from cashew fruit or coconut sap.", ingredients:["Cashew or coconut distillate"], image:"https://i1.wp.com/www.goaprism.com/wp-content/uploads/2018/01/FENI-THE-SPIRIT-OF-GOA.jpg?fit=1200%2C600&ssl=1"},

    // Gujarat
    {region: "Gujarat", state:"", name:"Dhokla", desc:"Steamed savory cake from gram flour and yogurt.", ingredients:["Gram flour", "Yogurt", "Lemon juice", "Ginger"], image:"https://www.desiblitz.com/wp-content/uploads/2019/10/7-Delicious-Types-of-Dhokla-to-Make-at-Home-chana.jpg"},
    {region: "Gujarat", state:"", name:"Khandvi", desc:"Rolled thin gram flour snack with yogurt and spices.", ingredients:["Gram flour", "Yogurt", "Ginger", "Mustard seeds"], image:"https://fitelo.co/wp-content/uploads/2021/09/Website-Pictures-2021-09-14T171909.777.jpg"},
    {region: "Gujarat", state:"", name:"Undhiyu", desc:"Mixed vegetable curry with fenugreek leaves and peas.", ingredients:["Mixed vegetables", "Fenugreek leaves", "Green peas", "Chickpeas"], image:"https://i.pinimg.com/736x/a8/e6/3a/a8e63a605b1b7fcd9039604a3d1a5d21.jpg"},
    {region: "Gujarat", state:"", name:"Basundi", desc:"Sweetened milk dessert flavored with cardamom and nuts.", ingredients:["Milk", "Sugar", "Cardamom", "Nuts"], image:"https://th.bing.com/th/id/R.9d64399dfc1d95265a08594d0f9629c7?rik=wG8fjm9nDjN%2flg&riu=http%3a%2f%2fcdn2.foodviva.com%2fstatic-content%2ffood-images%2fdessert-recipes%2fbasundi%2fbasundi.jpg&ehk=R5w5pqVei%2bDqaGkHk%2bK2m8KDw66Y%2bLdl1%2fCe6u0JHFA%3d&risl=&pid=ImgRaw&r=0"},
    {region: "Gujarat", state:"", name:"Pannah", desc:"Raw mango and milk based sweet dish.", ingredients:["Raw mango", "Milk", "Sugar"], image:"https://static.tnn.in/photo/msid-114085985/114085985.jpg"},

    // Karnataka
    {region: "Karnataka", state:"", name:"Mysore Masala Dosa", desc:"Fermented rice crepe filled with spicy potato.", ingredients:["Rice", "Urad dal", "Potato", "Mustard seeds", "Curry leaves"], image:"https://vismaifood.com/storage/app/uploads/public/609/3dc/1d7/6093dc1d77053892307086.jpg"},
    {region: "Karnataka", state:"", name:"Mysore Pak (sweet)", desc:"Gram flour and ghee based sweet dessert.", ingredients:["Gram flour", "Sugar", "Ghee"], image:"https://images.herzindagi.info/image/2019/Apr/mysore-pak-image.jpg"},
    {region: "Karnataka", state:"", name:"Bisi Bele Bath", desc:"Spiced lentil rice dish with tamarind and jaggery.", ingredients:["Lentils", "Rice", "Tamarind", "Jaggery", "Spices"], image:"https://www.ndtv.com/cooks/images/bisi%20bele%20bhaat.jpg"},
    {region: "Karnataka", state:"", name:"Ragi Mudde", desc:"Finger millet flour balls typically eaten with sambar.", ingredients:["Finger millet flour", "Water"], image:"https://alchetron.com/cdn/ragi-mudde-99596fb5-b7d4-4094-8f8f-a2129a453d8-resize-750.jpeg"},
    {region: "Karnataka", state:"", name:"Filter Coffee", desc:"Strong coffee brewed with boiled milk and sugar.", ingredients:["Coffee powder", "Boiled milk", "Sugar"], image:"https://images.indianexpress.com/2024/03/indian-filter-coffee.jpg"},

    // Kerala
    {region: "Kerala", state:"", name:"Idiyappam, Puttu", desc:"Steamed rice noodles and rice cakes with grated coconut.", ingredients:["Rice flour", "Grated coconut", "Water"], image:"https://thvnext.bing.com/th/id/OIG2.Z19EgLnLYqlAPICvS.fd?w=270&h=270&c=6&r=0&o=5&cb=ucfimg2&dpr=1.3&pid=ImgGn&ucfimg=1"},
    {region: "Kerala", state:"", name:"Ada Pradhaman (sweet)", desc:"Sweet rice flakes pudding with jaggery and coconut milk.", ingredients:["Rice flakes", "Jaggery", "Coconut milk", "Cardamom"], image:"https://i1.wp.com/1.bp.blogspot.com/-LeV-davisXs/WZb88vghOvI/AAAAAAAASjE/FuG8EyQaazIod-qigJlZj4LZBv5rbTkZgCLcBGAs/s1600/DSC_0327.JPG?ssl=1"},
    {region: "Kerala", state:"", name:"Kerala Fish Curry", desc:"Fish curry cooked in coconut milk and tamarind.", ingredients:["Fish", "Coconut milk", "Tamarind", "Mustard seeds", "Curry leaves"], image:"https://as2.ftcdn.net/v2/jpg/01/88/79/87/1000_F_188798749_dzv18NMs7CaH60mtb21QJc53WKmD66NZ.jpg"},
    {region: "Kerala", state:"", name:"Malabar Biryani", desc:"Spiced biryani from Malabar region with meat and yogurt.", ingredients:["Basmati rice", "Chicken or mutton", "Yogurt", "Spices"], image:"https://th.bing.com/th/id/R.2876c6919237276a6aa7aef96118221a?rik=V7QENtbv3xIQWw&riu=http%3a%2f%2fwww.recipesaresimple.com%2fwp-content%2fuploads%2f2015%2f06%2fmalabar-chicken-biryani-biriyani.jpg&ehk=cAq5M61%2bQ%2fAGJqAYjS8BfaeVufGvk%2fwNyJkxa2NLzug%3d&risl=&pid=ImgRaw&r=0"},
    {region: "Kerala", state:"", name:"Appam", desc:"Soft fermented rice pancakes with coconut milk.", ingredients:["Rice batter", "Coconut milk", "Yeast"], image:"https://vismaifood.com/storage/app/uploads/public/8a4/fe0/5c0/thumb__1200_0_0_0_auto.jpg"},
    {region: "Kerala", state:"", name:"Toddy (Kallu)", desc:"Fermented sap of palm trees, traditional drink.", ingredients:["Fermented palm sap"], image:"https://ourbigescape.com/wp-content/uploads/2023/02/5.-Palm-Wine.jpg"},

    // Maharashtra
    {region: "Maharashtra", state:"", name:"Misal Pav", desc:"Spiced sprouted lentils curry served with pav bread.", ingredients:["Sprouted lentils", "Yogurt", "Spice mix", "Pav bread"], image:"https://thumbs.dreamstime.com/b/misal-pav-buns-smeared-butter-served-spicy-sprouts-curry-trail-mixture-chopped-onions-chilli-lemons-bun-indian-starter-171494146.jpg"},
    {region: "Maharashtra", state:"", name:"Modak (sweet)", desc:"Sweet dumplings made with rice flour filled with jaggery and coconut.", ingredients:["Rice flour", "Jaggery", "Coconut"], image:"https://eatout-beta-wp.outlooktraveller.com/wp-content/uploads/2025/08/Does-5-3.png"},
    {region: "Maharashtra", state:"", name:"Kolhapuri Chicken Curry", desc:"Spicy chicken curry with coconut and sesame seeds.", ingredients:["Chicken", "Red chili powder", "Sesame seeds", "Coconut"], image:"https://2.bp.blogspot.com/-xOXPil-lR50/WNLMv6n9SKI/AAAAAAAAHLE/4LK3QwwNDiQ9-0pk230Ng32XxD3sM0ptACLcB/s1600/000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.jpg"},
    {region: "Maharashtra", state:"", name:"Kolhapuri Biryani", desc:"Spicy biryani made with meat and rich masalas.", ingredients:["Basmati rice", "Meat", "Spicy masala"], image:"https://tse4.mm.bing.net/th/id/OIP.DK0Vda_3DY9CwYQu275TsgHaE6?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {region: "Maharashtra", state:"", name:"Vada Pav", desc:"Deep-fried potato patty sandwich in a pav bun.", ingredients:["Potato filling", "Gram flour batter", "Pav bread"], image:"https://news24online.com/wp-content/uploads/2023/01/Vada-Pav.jpg"},
    {region: "Maharashtra", state:"", name:"Kokum (drink)", desc:"Refreshing drink made from kokum fruit.", ingredients:["Kokum fruit", "Sugar", "Water"], image:"https://images.slurrp.com/prodslurrp360/9xsfzowvdnl.webp"},

    // Punjab
    {region: "Punjab", state:"", name:"Makki di Roti", desc:"Flatbread made from cornmeal.", ingredients:["Cornmeal", "Water"], image:"https://www.indianhealthyrecipe.com/wp-content/uploads/2024/01/56097918.webp"},
    {region: "Punjab", state:"", name:"Sarson da Saag", desc:"Mustard greens curry cooked with spinach and spices.", ingredients:["Mustard greens", "Spinach", "Spices"], image:"https://www.chefkunalkapur.com/wp-content/uploads/2021/03/Sarson-Ka-saag-new-recipe.jpg?v=1619450720"},
    {region: "Punjab", state:"", name:"Pinni (sweet)", desc:"Sweet made from wheat flour, jaggery, ghee, and nuts.", ingredients:["Wheat flour", "Jaggery", "Ghee", "Nuts"], image:"https://images.indianexpress.com/2019/11/Pinni_759.jpg"},
    {region: "Punjab", state:"", name:"Amritsari Kulcha", desc:"Stuffed bread from Amritsar filled with potatoes and spices.", ingredients:["Refined flour", "Potatoes", "Spices"], image:"https://b.zmtcdn.com/data/pictures/chains/0/18667620/9fa809ab62b6c3d8fd480800c0812b61.jpg"},
    {region: "Punjab", state:"", name:"Lassi", desc:"Yogurt-based sweet drink flavored with sugar and cardamom.", ingredients:["Yogurt", "Sugar", "Cardamom"], image:"https://tse4.mm.bing.net/th/id/OIP.KChmYgUtTdYUlczrM-aa_gHaHa?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"},

    // Tamil Nadu
    {region: "Tamil Nadu", state:"", name:"Pongal (sweet)", desc:"Sweet rice and lentil dish made with jaggery.", ingredients:["Rice", "Jaggery", "Moong dal"], image:"https://th.bing.com/th/id/R.57cf7e70452c0df946aa51319104772f?rik=5Q50EQ4%2f1K9edg&riu=http%3a%2f%2f2.bp.blogspot.com%2f-f7wjOHupECA%2fTxAj_ayBiDI%2fAAAAAAAAN_Y%2fg_RZ8NYhhhQ%2fs1600%2fsp%2bfour.jpg&ehk=Nt9hwO00qltEf%2bHSxnA5ymuQh2%2f%2fCRnNCuFqLoeY0Og%3d&risl=&pid=ImgRaw&r=0"},
    {region: "Tamil Nadu", state:"", name:"Chettinad Chicken Curry", desc:"Spicy chicken curry with coconut and curry leaves.", ingredients:["Chicken", "Coconut", "Spices", "Curry leaves"], image:"https://www.funfoodfrolic.com/wp-content/uploads/2020/11/Chicken-Chettinad-Thumbnail.jpg"},
    {region: "Tamil Nadu", state:"", name:"Ambur Biryani", desc:"Fragrant biryani from Ambur made with mutton or chicken.", ingredients:["Basmati rice", "Mutton or chicken", "Yogurt", "Red chili"], image:"https://vaya.in/recipes/wp-content/uploads/2018/03/Ambur-Chicken-Biriyani.jpg"},
    {region: "Tamil Nadu", state:"", name:"Sundal (snack)", desc:"Seasoned chickpeas snack with mustard seeds and curry leaves.", ingredients:["Chickpeas", "Mustard seeds", "Curry leaves"], image:"https://tse1.mm.bing.net/th/id/OIP.3FsneBU7VIroqnuLmLdX5gHaGv?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {region: "Tamil Nadu", state:"", name:"Neera (drink)", desc:"Sweet raw palm sap drink.", ingredients:["Raw palm sap"], image:"https://curlytales.com/wp-content/uploads/2023/05/Neera-Vikri-Kendra-1.jpg"},

    // West Bengal
    {region: "West Bengal", state:"", name:"Luchi", desc:"Fried puffed flatbread made from maida flour.", ingredients:["Maida flour", "Ghee", "Water"], image:"https://tse1.mm.bing.net/th/id/OIP.v1ZHGeX8WikJKRBPKE70gQHaE8?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {region: "West Bengal", state:"", name:"Aloo'r Dum", desc:"Spiced potato curry.", ingredients:["Potatoes", "Tomatoes", "Spices"], image:"https://images.aws.nestle.recipes/resized/65d65fdbda7c660074423cf5859e7d30_Aloo_Dum_-_Plating_(tips_cards)_944_531.jpg"},
    {region: "West Bengal", state:"", name:"Rosogolla", desc:"Soft cheese balls soaked in sugar syrup.", ingredients:["Chhena (cottage cheese)", "Sugar syrup"], image:"https://www.palatesdesire.com/wp-content/uploads/2015/08/Rasgulla@palates_desire-768x512.jpg"},
    {region: "West Bengal", state:"", name:"Kosha Mangsho", desc:"Mutton curry cooked with yogurt and spices.", ingredients:["Mutton", "Yogurt", "Ginger", "Garlic", "Spices"], image:"https://www.stackumbrella.com/wp-content/uploads/2021/07/AP21197702548113-3.jpg"},
    {region: "West Bengal", state:"", name:"Kolkata Biryani", desc:"Spiced rice with mutton and potatoes.", ingredients:["Basmati rice", "Mutton", "Potatoes", "Yogurt"], image:"https://feeds.abplive.com/onecms/images/uploaded-images/2023/10/11/fa6be68d80b1f9676ece11173a8b6ded1697004727372557_original.jpg"},
    {region: "West Bengal", state:"", name:"Puchka", desc:"Fried semolina puris filled with tamarind water and chickpeas.", ingredients:["Semolina", "Tamarind water", "Chickpeas"], image:"https://www.chefkunalkapur.com/wp-content/uploads/2021/09/CW0_7781-e1631068476630.jpg?v=1631068280"},
    {region: "West Bengal", state:"", name:"Cholai (drink)", desc:"Millet-based fermented alcohol drink.", ingredients:["Millet"], image:"https://i.ytimg.com/vi/WABmjJDO6Co/maxresdefault.jpg"},
  ];

  const foodList = document.getElementById('foodList');
  const regionFilter = document.getElementById('regionFilter');
  const searchInput = document.getElementById('searchInput');
  const modal = document.getElementById('modal');
  const modalTitle = document.getElementById('modalTitle');
  const modalDesc = document.getElementById('modalDesc');
  const modalIngredients = document.getElementById('modalIngredients');
  const modalImage = document.getElementById('modalImage');
  const modalCloseBtn = document.getElementById('modalCloseBtn');
  const modalRating = document.getElementById('modalRating');

  // Create star rating UI
  function createStarRating(dishKey, currentRating = 0) {
    const container = document.createElement('div');
    container.className = 'rating';
    for (let i = 1; i <= 5; i++) {
      const star = document.createElement('span');
      star.className = 'star';
      star.innerHTML = '&#9733;';
      if (i <= currentRating) {
        star.classList.add('selected');
      }
      star.setAttribute('data-value', i);
      star.setAttribute('tabindex', 0);
      star.setAttribute('role', 'button');
      star.title = `${i} star${i > 1 ? 's' : ''}`;
      star.addEventListener('click', () => {
        setRating(dishKey, i);
        updateModalRating(dishKey);
        updateCardsRating();
      });
      star.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          setRating(dishKey, i);
          updateModalRating(dishKey);
          updateCardsRating();
        }
      });
      container.appendChild(star);
    }
    return container;
  }

  // Set rating in localStorage
  function setRating(dishKey, rating) {
    localStorage.setItem(`rating-${dishKey}`, rating);
  }

  // Get rating from storage
  function getRating(dishKey) {
    return parseInt(localStorage.getItem(`rating-${dishKey}`)) || 0;
  }

  // Update rating in modal
  function updateModalRating(dishKey) {
    modalRating.innerHTML = '';
    const newRating = getRating(dishKey);
    modalRating.appendChild(createStarRating(dishKey, newRating));
  }

  // Update all card ratings
  function updateCardsRating() {
    document.querySelectorAll('.card').forEach(card => {
      const dishKey = card.getAttribute('data-key');
      const ratingContainer = card.querySelector('.rating');
      const ratingValue = getRating(dishKey);
      ratingContainer.innerHTML = '';
      for (let i = 1; i <= 5; i++) {
        const starSpan = document.createElement('span');
        starSpan.className = 'star' + (i <= ratingValue ? ' selected' : '');
        starSpan.innerHTML = '&#9733;';
        ratingContainer.appendChild(starSpan);
      }
    });
  }

  // Render food cards based on filters/search
  function renderCards() {
    const selectedRegion = regionFilter.value;
    const searchTerm = searchInput.value.trim().toLowerCase();
    foodList.innerHTML = '';

    const filteredFoods = foods.filter(food => {
      const regionMatch = selectedRegion === 'all' || food.region === selectedRegion;
      const searchMatch = food.name.toLowerCase().includes(searchTerm);
      return regionMatch && searchMatch;
    });

    if(filteredFoods.length === 0) {
      foodList.innerHTML = '<p>No foods match your criteria.</p>';
      return;
    }

    filteredFoods.forEach(food => {
      const dishKey = `${food.region}-${food.state}-${food.name}`.replace(/\s/g, '');
      const card = document.createElement('article');
      card.className = 'card';
      card.setAttribute('tabindex', 0);
      card.setAttribute('role', 'button');
      card.setAttribute('aria-pressed', 'false');
      card.setAttribute('data-key', dishKey);
      card.innerHTML = `
        <h3>${food.name}</h3>
        ${food.state ? `<p><strong>State:</strong> ${food.state}</p>` : ''}
        <p>${food.desc}</p>
        <p class="region">${food.region}</p>
        <div class="rating" aria-label="Rating stars"></div>
      `;

      const ratingVal = getRating(dishKey);
      const ratingContainer = card.querySelector('.rating');
      for (let i = 1; i <= 5; i++) {
        const starSpan = document.createElement('span');
        starSpan.className = 'star' + (i <= ratingVal ? ' selected' : '');
        starSpan.innerHTML = '&#9733;';
        ratingContainer.appendChild(starSpan);
      }

      card.addEventListener('click', () => openModal(food));
      card.addEventListener('keypress', (e) => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openModal(food);
        }
      });

      foodList.appendChild(card);
    });
  }

  function openModal(food) {
    modalTitle.textContent = food.name + (food.state ? ` (${food.state})` : '');
    modalDesc.textContent = food.desc;
    modalImage.src = food.image || '';
    modalImage.alt = food.name;
    modalIngredients.innerHTML = '';
    food.ingredients.forEach(ingredient => {
      const li = document.createElement('li');
      li.textContent = ingredient;
      modalIngredients.appendChild(li);
    });
    updateModalRating(`${food.region}-${food.state}-${food.name}`.replace(/\s/g, ''));
    modal.classList.add('active');
    modalCloseBtn.focus();
  }

  modalCloseBtn.addEventListener('click', () => modal.classList.remove('active'));
  modal.addEventListener('click', (e) => {
    if(e.target === modal) modal.classList.remove('active');
  });
  window.addEventListener('keydown', (e) => {
    if(e.key === 'Escape' && modal.classList.contains('active')) modal.classList.remove('active');
  });

  regionFilter.addEventListener('change', renderCards);
  searchInput.addEventListener('input', renderCards);

  renderCards();
</script>

</body>
</html>